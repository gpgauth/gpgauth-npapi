<html>
<head>
<script>
// Called when a message is passed.
function onRequest(request, sender, sendResponse) {
    // Show the page action for the tab that the sender (content script)
    // was on.
    if (request.msg == 'show') {
        chrome.pageAction.show(sender.tab.id);
    }

    // Return nothing to let the connection be cleaned up.
    sendResponse({});
};

// Listen for the content script to send a message to the background page.
chrome.extension.onRequest.addListener(onRequest);
</script>
</head>
<body>
</body>
<script>
    plugin = document.createElement('embed');
    plugin.id = 'plugin';
    plugin.type = 'application/x-gpgauth';
    document.body.appendChild(plugin);
    var result = plugin.valid;
    console.log("my plugin returned: " + result);
</script>
</html>
